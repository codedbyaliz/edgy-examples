<blocks app="Snap! 4.0, http://snap.berkeley.edu" version="1"><block-definition s="max weight independent set of path graph" type="reporter" category="network"><header></header><code></code><inputs></inputs><script><block s="doDeclareVariables"><list><l>max weight list</l><l>index</l><l>max weight independent set</l></list></block><block s="doSetVar"><l>max weight list</l><block s="reportNewList"><list></list></block></block><block s="doSetVar"><l>max weight independent set</l><block s="reportNewList"><list></list></block></block><block s="doIf"><block s="reportGreaterThan"><block s="numberOfNodes"></block><l>0</l></block><script><block s="doAddToList"><block s="getNodeAttrib"><l>scale</l><l>1</l></block><block var="max weight list"/></block></script><comment w="90" collapsed="false">If only one node then including it is the max set.</comment></block><block s="doIf"><block s="reportGreaterThan"><block s="numberOfNodes"></block><l>1</l></block><script><block s="doIfElse"><block s="reportLessThan"><block s="getNodeAttrib"><l>scale</l><l>1</l></block><block s="getNodeAttrib"><l>scale</l><l>2</l></block></block><script><block s="doAddToList"><block s="getNodeAttrib"><l>scale</l><l>2</l></block><block var="max weight list"/></block></script><script><block s="doAddToList"><block s="getNodeAttrib"><l>scale</l><l>1</l></block><block var="max weight list"/></block></script></block></script><comment w="90" collapsed="false">If two nodes, take the best one.</comment></block><block s="doIf"><block s="reportGreaterThan"><block s="numberOfNodes"></block><l>2</l></block><script><block s="doNumericFor"><l>i</l><l>3</l><block s="numberOfNodes"></block><script><block s="doIfElse"><block s="reportGreaterThan"><block s="reportSum"><block s="getNodeAttrib"><l>scale</l><block var="i"/></block><block s="reportListItem"><block s="reportDifference"><block var="i"/><l>2</l></block><block var="max weight list"/></block></block><block s="reportListItem"><block s="reportDifference"><block var="i"/><l>1</l></block><block var="max weight list"/></block></block><script><block s="doAddToList"><block s="reportSum"><block s="getNodeAttrib"><l>scale</l><block var="i"/></block><block s="reportListItem"><block s="reportDifference"><block var="i"/><l>2</l></block><block var="max weight list"/></block></block><block var="max weight list"/></block></script><script><block s="doAddToList"><block s="reportListItem"><block s="reportDifference"><block var="i"/><l>1</l></block><block var="max weight list"/></block><block var="max weight list"/></block></script><comment w="106" collapsed="false">Optimal substructure:&#xD;Max value possible from the first n verticies is either&#xD;- the max possible from the first n-1 vertices&#xD;- the max possible from the first n-2 verticies + the value of the nth vertex.</comment></block></script></block></script></block><block s="doSetVar"><l>index</l><block s="reportListLength"><block var="max weight list"/></block></block><block s="doUntil"><block s="reportLessThan"><block var="index"/><l>2</l></block><script><block s="doIfElse"><block s="reportGreaterThan"><block s="reportListItem"><block var="index"/><block var="max weight list"/></block><block s="reportListItem"><block s="reportDifference"><block var="index"/><l>1</l></block><block var="max weight list"/></block></block><script><block s="doAddToList"><block var="index"/><block var="max weight independent set"/></block><block s="doChangeVar"><l>index</l><l>-2</l></block></script><script><block s="doChangeVar"><l>index</l><l>-1</l></block></script><comment w="90" collapsed="false">If vertex n was part of the maximum set then Weight[n] &gt; Weight[n-1]&#xD;If vertex n was part of the maximum set then we cannot take vertex n-1.</comment></block></script></block><block s="doIf"><block s="reportEquals"><block var="index"/><l>1</l></block><script><block s="doAddToList"><block var="index"/><block var="max weight independent set"/></block></script></block><block s="doReport"><block var="max weight independent set"/></block></script><password></password><salt></salt></block-definition></blocks>